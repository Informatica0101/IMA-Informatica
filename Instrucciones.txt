Importante: 
PROHIBIDO AGREGAR CONTENIDO ANTES DEL SIGUIENTE BLOQUE DE TEXTO. 

— PROCEDIMIENTO OBLIGATORIO DE TRABAJO.
===================================================================

Este procedimiento es de CUMPLIMIENTO OBLIGATORIO en TODOS los proyectos.
No se permite omitir, alterar ni reordenar pasos.

--------------------------------------------------
FLUJO PRINCIPAL DE TRABAJO
--------------------------------------------------

1. AUDITORÍA INICIAL DEL ARCHIVO
   - Auditar el/los archivo(s) involucrados.
   - Revisión archivo por archivo.
   - Revisión línea por línea.
   - Identificar estado actual, riesgos, dependencias y efectos colaterales.
   - PROHIBIDO modificar código en esta etapa.

2. REGISTRO DE HALLAZGOS
   - Registrar TODOS los hallazgos en Auditoría.txt.
   - Crear nueva entrada o actualizar la existente.
   - PROHIBIDO eliminar información previa.
   - NO realizar correcciones durante la auditoría.

3. MANEJO DE HALLAZGOS FUERA DE ALCANCE
   - Si se detectan problemas fuera de la tarea actual:
     a) Resolverlos en el MISMO commit SOLO si es seguro.
     b) Si no es posible:
        -> Registrar nueva tarea en Instrucciones.txt
        -> Referenciarla en Auditoría.txt

4. RESPALDO OBLIGATORIO ANTES DE EDICIÓN
   - Crear copia exacta del/los archivo(s) a modificar.
   - El respaldo DEBE conservar:
     · Nombre original
     · Contenido íntegro
   - El respaldo se usa EXCLUSIVAMENTE para comparación posterior.

5. EJECUCIÓN DE LA TAREA
   - Implementar ÚNICAMENTE lo solicitado.
   - PROHIBIDO:
     · Cambiar estilos no relacionados
     · Alterar flujos existentes
     · Introducir optimizaciones no solicitadas
   - Todo cambio debe estar justificado por la tarea.

6. VERIFICACIÓN FUNCIONAL
   - Confirmar que la tarea cumple su objetivo.
   - Verificar que no se rompan funciones existentes.
   - Probar flujos relacionados directa e indirectamente.

7. COMPARACIÓN POST-EDICIÓN (OBLIGATORIA)
   - Comparar archivo editado contra el respaldo previo.
   - Identificar:
     · Líneas eliminadas
     · Líneas modificadas
     · Bloques sobreescritos
   - Verificar que:
     -> TODO cambio esté directamente relacionado con la tarea.
   - Si se detectan cambios ajenos:
     -> REVERTIRLOS inmediatamente
     -> Repetir la comparación
-Los archivos de Respaldo se debe eliminar DESPUES de la revision de codigo de Code Review. 
-Todo archivo, captura generado para la verificación visual o ejecutable debe de ser eliminado en el pre-commit. 

8. VERIFICACIÓN DE INTEGRIDAD Y EFECTOS COLATERALES
   - Revisar dependencias internas y externas.
   - Detectar efectos colaterales visuales o lógicos.
   - Confirmar que no existen regresiones.

9. REVISIÓN FINAL DE CÓDIGO
   - Revisión completa nuevamente.
   - Línea por línea.
   - Función por función.
   - Evaluar consistencia, claridad y impacto.

10. REGISTRO EN CHANGESLOGS.TXT
    - Registrar TODOS los cambios realizados.
    - Indicar:
      · Archivo modificado
      · Líneas afectadas
      · Descripción objetiva
    - PROHIBIDO asumir éxito o usar frases de cierre.

11. ACTUALIZACIÓN DE INSTRUCCIONES.TXT
    - Mover la tarea ejecutada a:
      -> "TAREAS PENDIENTES DE REVISIÓN"
    - NO eliminar tareas sin aprobación del PM.

12. COMMIT
    - Realizar UN SOLO commit por ciclo completo.
    - El commit DEBE reflejar EXACTAMENTE
      lo auditado y documentado.

-----------------------------------------------
EXTENSIÓN OBLIGATORIA POR CODE REVIEW
--------------------------------------------------

Si el Code Review detecta:
- Fallas
- Bloqueantes
- Riesgos
- Cambios requeridos

ENTONCES:
-> Este MISMO procedimiento DEBE aplicarse nuevamente
-> Incluso si implica modificar archivos ya editados
-> NO se permiten correcciones parciales


==================================================
PROTOCOLO DE RESULTADO DE CODE REVIEW
==================================================

--------------------------------------------------
FLUJO DE ANÁLISIS
--------------------------------------------------

1. LECTURA COMPLETA DEL CODE REVIEW
   - Leer TODO el informe.
   - No omitir secciones.

2. SAFETY & SIDE EFFECTS
   - Se considera FUENTE DE VERDAD PRINCIPAL.
   - SOLO se ignora si el Code Review solicita
     explícitamente revertir cambios.

--------------------------------------------------
TRATAMIENTO DE REVERSIÓN
--------------------------------------------------

3. EVALUACIÓN OBLIGATORIA

   a) CAMBIOS "OUT OF SCOPE"
      - Verificar si pertenecen a:
        · Tareas anteriores
        · Commits previos aprobados

      - Si pertenecen a tareas anteriores:
        -> IGNORAR solicitud de reversión
        -> CONTINUAR con el commit actual

   b) CAMBIOS DE LA TAREA ACTUAL
      - Si los cambios NO solicitados
        fueron introducidos durante la tarea actual:
        -> REALIZAR reversión
        -> REGISTRAR el motivo

--------------------------------------------------
IMPACTO EN EL FLUJO
--------------------------------------------------

4. REINICIO DEL CICLO
   - Toda observación que implique cambios:
     -> REINICIA el ciclo completo
        desde la AUDITORÍA INICIAL

   - El reinicio NO afecta:
     · Commits anteriores
     · Tareas aprobadas
     · Cambios fuera de alcance


--------------------------------------------------
DOCUMENTACIÓN OBLIGATORIA
--------------------------------------------------

Toda acción derivada del Code Review
DEBE quedar registrada en:
- Auditoría.txt
- ChangesLogs.txt
- Instrucciones.txt (si aplica)


--------------------------------------------------
REGLA FINAL ABSOLUTA
--------------------------------------------------

SI NO SE AUDITA, NO SE CAMBIA.
SI NO SE REGISTRA, NO EXISTE.

El incumplimiento de CUALQUIER paso
INVALIDA el proceso completo.

==================================================
TAREAS
=================================================

Despues de esta linea se deben de registrar las nuevas tareas, por realizar o completadas

________________________________________________________________________________________________

# INSTRUCCIONES TÉCNICAS - BACKLOG DE MEJORAS FRONTEND

Este bloque contiene las tareas derivadas de la Auditoría Absoluta del Frontend realizada el 15/01/2026.
REGLA DE ORO: No modificar lo que ya funciona, solo corregir los hallazgos técnicos.

---

## 1. Arquitectura y Consistencia
- [ ] **Centralizar `fetchApi`**: Eliminar la re-definición de `fetchApi` en `js/results.js` y asegurar que todos los archivos usen la versión de `js/api.js`.
- [ ] **Eliminar Duplicación en `closeMobileMenu`**: Eliminar la versión conflictiva de `closeMobileMenu` en `js/main.js` y dejar una única implementación robusta y compartida en `index.html` o un script común.
- [ ] **Extraer Utilidades**: Mover la función `extractDriveId` de `js/teacher.js` a un archivo de utilidades compartido.

## 2. JavaScript - Lógica y Robustez
- [ ] **Mejorar `Promise.all`**: En `js/student.js`, reemplazar `Promise.all` por un manejo que permita cargar tareas aunque fallen los exámenes (ej. `Promise.allSettled`).
- [ ] **Validación de Datos**: En `js/teacher.js`, evitar el uso de `JSON.stringify` dentro de atributos HTML (`data-item`).
- [ ] **Confirmación de Envío**: Agregar un modal de confirmación en `js/exam.js` antes de enviar un examen.
- [ ] **Validación de `currentUser`**: Implementar una función de validación de sesión centralizada que verifique la integridad de los datos en `localStorage`.

## 3. CSS y Paleta de Colores
- [ ] **Unificar Paleta**: Reemplazar todos los colores hexadecimales hardcodeados (ej. `#1a202c`) por clases de Tailwind equivalentes.
- [ ] **Revisar Escalamiento Global**: Evaluar el impacto de `html { font-size: 80%; }` en la accesibilidad.
- [ ] **Eliminar CSS Hardcodeado**: Migrar estilos del bloque `<style>` en `interactivo.html` y `index.html` a clases de Tailwind.

## 4. Accesibilidad (Prioridad Alta)
- [ ] **Corregir Foco**: Buscar todas las instancias de `focus:outline-none` y asegurar que tengan un estilo de anillo de enfoque visible.
- [ ] **Agregar `aria-label`**: Auditar todos los botones y enlaces para asegurar que tengan descripciones accesibles.
- [ ] **Etiquetas de Formulario**: Asegurar que todos los inputs dinámicos en `js/exam.js` y `js/teacher.js` tengan elementos `<label>` asociados.

## 5. Condiciones de Carrera y Rendimiento
- [ ] **Orquestación de Carga**: En `index.html`, implementar un sistema de promesas para la carga dinámica de juegos.
- [ ] **Lazy Loading de Datos**: Mover los grandes arreglos de datos en `index.html` a archivos JSON externos cargados bajo demanda.

---

### TAREAS PENDIENTES DE REVISIÓN
- [ ] **Auditoría Absoluta del Frontend**: Realizar una auditoría completa de todos los archivos del frontend y generar un backlog de tareas. (Ejecutada el 15/01/2026)
