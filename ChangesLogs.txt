13/01/2026
- Archivo: js/teacher.js, Línea(s): 99-102
  - Se implementó una interfaz de diagnóstico temporal en el frontend. Si los datos de archivo esperados (`fileId`, `mimeType`) no se reciben, la celda "Archivo" mostrará el objeto JSON completo de la API para facilitar la depuración.

13/01/2026
- Archivo: backend/task-service/Code.gs, Línea(s): 154-158
  - Se corrigió un error de "off-by-one" en la función `gradeSubmission` que provocaba que se intentara actualizar la fila incorrecta en la hoja de cálculo.
- Archivo: js/teacher.js, Línea(s): 87-101
  - Se eliminó la lógica de retrocompatibilidad por instrucción del usuario. El frontend ahora depende exclusivamente de los campos `fileId` y `mimeType` proporcionados por el backend.

13/01/2026
- Archivo: js/teacher.js, Línea(s): 87-101
  - Se implementó una lógica retrocompatible en `renderActivity` para manejar tanto la estructura de datos nueva (`fileId`, `mimeType`) como la antigua (`archivoUrl`). Esto asegura que siempre se muestre un enlace de archivo funcional y se evite el error "N/A", independientemente de la versión del backend desplegado.

13/01/2026
- Archivo: js/config.js, Línea(s): 17
  - Se revirtió la URL del microservicio `TASK` a la versión anterior para restaurar la funcionalidad del dashboard después de determinar que la nueva URL proporcionada era incorrecta.

13/01/2026
- Archivo: js/config.js, Línea(s): 17
  - Se actualizó la URL del microservicio `TASK` al nuevo endpoint de producción.

13/01/2026
- Archivo: backend/task-service/Code.gs, Línea(s): 125-131, 175-194
  - Se modificó `submitAssignment` para almacenar el ID del archivo y su MIME type en la hoja `Entregas`.
  - Se actualizó `getTeacherActivity` para recuperar el `fileId` y el `mimeType`, eliminando la `archivoUrl` obsoleta.
- Archivo: README.md, Línea(s): 150
  - Se añadió la columna `mimeType` a la documentación de la hoja `Entregas`.
- Archivo: teacher-dashboard.html, Línea(s): 165-175
  - Se añadió la estructura HTML para un modal de lightbox para la previsualización de imágenes.
- Archivo: js/teacher.js, Línea(s): 87-101, 131-150, 198-202
  - Se actualizó `renderActivity` para generar enlaces condicionales: descarga directa para documentos y un activador de lightbox para imágenes.
  - Se implementó la lógica para controlar la apertura y cierre del lightbox.
  - Se añadió un event listener para gestionar los clics en los enlaces de visualización de archivos.

Registro de cambios de IMA - Area de Informática V 2.0 

En este archivo se regustrara el historial de cambios del proyecto. 

09/01/2026
- Archivo: index.html, Línea(s): 203, 250
  - Se añadió un enlace "Portal" a la barra de navegación principal (vista de escritorio y móvil) para dirigir a los usuarios a `login.html`.
  - Se revirtió el cambio anterior que enlazaba incorrectamente el logo principal a `login.html`.

08/01/2026
- Archivo: js/teacher.js, Línea(s): 158-297
  - Se implementó la funcionalidad completa para añadir, eliminar y gestionar preguntas dinámicamente en el formulario de creación de exámenes.
  - Se corrigió el error `forEach` al guardar el examen, implementando la lógica para recopilar todos los datos del formulario, incluyendo las preguntas dinámicas, y construir un payload válido para la API.
  - Se añadió validación para impedir el envío de un examen sin preguntas.
- Archivo: js/api.js, Línea(s): 10-23
  - Se añadió un mock temporal a la función `fetchApi` para simular un login de "Profesor" y permitir las pruebas del frontend de forma aislada.
- Archivo: register.html, Línea(s): 44
  - Se corrigió un error de `ReferenceError` al añadir la importación del script `js/api.js`, que era necesario para el funcionamiento del formulario de registro.

08/01/2026
- Archivo: js/student.js, Línea(s): 12-17
  - Se implementó el `addEventListener` para el botón de `logout-button`, solucionando el bug que impedía al estudiante cerrar sesión.
- Archivo: js/student.js, Línea(s): 29-91
  - Se modificó la lógica de obtención de actividades para incluir una llamada a `getStudentExams`.
  - Se actualizó la función `renderActivities` para mostrar tanto tareas como exámenes, añadiendo un botón "Realizar Examen".
- Archivo: index.html, Línea(s): 201
  - Se actualizó el `href` del enlace principal para dirigir a `login.html`, conectando la página de inicio con el portal.

07/01/2026 
-Se creo los archicos README.md, Instrucciones.txt y Changeslogs.txt 
- Archivos relacionados README.md, Instrucciones.txt y Changeslogs.txt.

10/01/2026
- Archivo: backend/user-service/Code.gs, backend/task-service/Code.gs, Línea(s): Todas
  - Se realizó una auditoría completa de los archivos para verificar la definición, alcance y orden de ejecución de las funciones. Se determinó que la estructura actual previene errores de referencia de funciones no definidas.

11/01/2026
- Archivo: backend/user-service/Code.gs, Línea(s): 67, 91
  - Se modificó el bloque `catch` de la función `doPost` para registrar los errores internamente y devolver un mensaje genérico al cliente, mejorando la seguridad.
  - Se actualizó la función `registerUser` para utilizar `Utilities.getUuid()` en la generación de `userId`, garantizando identificadores únicos.
- Archivo: backend/task-service/Code.gs, Línea(s): 64, 137-139, 151-171
  - Se modificó el bloque `catch` de la función `doPost` para devolver un mensaje de error genérico.
  - Se añadió una validación en `submitAssignment` para asegurar que el tipo MIME se extraiga correctamente del `fileData`.
  - Se refactorizó la función `gradeSubmission` para utilizar los nombres de los encabezados de la hoja de cálculo al buscar las columnas, eliminando los índices codificados.

12/01/2026
- Archivo: backend/user-service/Code.gs, Línea(s): 31-33
  - Se reestructuró la función `doGet` para separar la llamada `setMimeType` de la creación inicial del objeto `TextOutput`, alineando el código con la documentación oficial de Google Apps Script y resolviendo un `TypeError`.
- Archivo: backend/task-service/Code.gs, Línea(s): 28-30
  - Se aplicó la misma reestructuración a la función `doGet` para resolver el `TypeError` idéntico.

13/01/2026
- Archivo: js/config.js, Línea(s): 13, 16, 19
  - Se actualizaron las variables `USER`, `TASK` y `EXAM` con las nuevas URLs de despliegue de los microservicios de backend.
